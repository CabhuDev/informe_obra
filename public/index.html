<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Informe semanal de obra</title>

  <!-- PicoCSS (CDN) -->
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@picocss/pico@1.5.7/css/pico.min.css" />
  <!-- Nuestro CSS -->
  <link rel="stylesheet" href="css/style.css" />

  <!-- Favicon -->    
  <link rel="icon" type="image/webp" href="assets/favicon.webp">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon.webp">
  <link rel="shortcut icon" href="assets/favicon.webp">
  <link rel="manifest" href="assets/site.webmanifest">
<meta name="theme-color" content="#3B8C88">
<meta name="apple-mobile-web-app-status-bar-style" content="#3B8C88">

</head>

<body>
  <main class="container">
    <h1>Informe semanal</h1>

    <form id="obraForm" autocomplete="off">
      <label>
        Email
        <input type="email" name="email" placeholder="Email donde te llegar√° el informe" required />
      </label>

      <label>
        Proyecto
        <input name="projectName" placeholder="Nombre obra" required />
      </label>

      <label>
        Fecha
        <input type="date" name="date" required />
      </label>

      <label>
        Avance (%)  
        <input type="number" name="advance" min="0" max="100" required />
      </label>

      <label>
        Observaciones
        <textarea name="observations" rows="3"></textarea>
      </label>

      <label>
        Incidencias
        <textarea name="incidences" rows="3"></textarea>
      </label>

      <!-- Descomenta para fotos
      <label>
        Fotos (m√°x 3)
        <input type="file" name="photos" accept="image/*" multiple capture="environment" />
      </label>
      -->

      <div class="audio-recorder">
        <label>Observaciones de voz:</label>
        <div class="recorder-controls">
          <button type="button" id="startRecording" class="outline">üéôÔ∏è Iniciar grabaci√≥n</button>
          <button type="button" id="stopRecording" class="outline" disabled>‚èπÔ∏è Detener</button>
          <span id="recordingStatus"></span>
        </div>
        <audio id="audioPlayback" controls style="display:none; width:100%; margin-top:10px;"></audio>
        <!-- Este campo oculto almacenar√° el audio como base64 -->
        <input type="hidden" name="audioData" id="audioData">
      </div>
        <button type="submit">Enviar informe</button>
    </form>

    <p id="status"></p>
    

    <script src="js/script.js"></script>
    <script src="js/audioRecord.js"></script>
</body>
</html>
